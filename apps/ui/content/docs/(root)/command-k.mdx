---
title: Command K
description: A command palette component with keyboard shortcuts, search filtering, and smooth animations.
---

import { CommandKDemo } from '@/components/command-k-demo'

<div className="not-prose my-8">
  <CommandKDemo />
</div>

## Overview

A command palette (cmd+k) component with fluid animations and keyboard navigation. Press `⌘K` (or `Ctrl+K` on Windows/Linux) to open the palette from anywhere in your app. Includes search filtering, keyboard navigation, and grouped commands.

## Features

- **Keyboard shortcuts** - Opens with ⌘K/Ctrl+K, navigate with arrows, select with Enter
- **Search filtering** - Filter items by value or keywords
- **Grouped commands** - Organize items into logical groups
- **Smooth animations** - Framer Motion powered enter/exit animations
- **Reduced motion support** - Respects user accessibility preferences
- **Dark mode** - Full theming support with design tokens
- **Controlled and uncontrolled** - Works with external state or standalone

## Usage

### Basic Example

```tsx
import { CommandK } from '@/shaddercn/components/command-k'
import { Calendar, Settings, User } from 'lucide-react'
import { useState } from 'react'

export default function BasicCommandK() {
  const [open, setOpen] = useState(false)

  return (
    <CommandK.Root open={open} onOpenChange={setOpen}>
      <CommandK.Dialog>
        <CommandK.Input placeholder="Type a command or search..." />

        <CommandK.List>
          <CommandK.Empty>No results found.</CommandK.Empty>

          <CommandK.Group heading="Actions">
            <CommandK.Item value="calendar" onSelect={() => console.log('Calendar')}>
              <Calendar className="h-4 w-4" />
              <span>Calendar</span>
            </CommandK.Item>

            <CommandK.Item value="settings" onSelect={() => console.log('Settings')}>
              <Settings className="h-4 w-4" />
              <span>Settings</span>
            </CommandK.Item>

            <CommandK.Item value="profile" onSelect={() => console.log('Profile')}>
              <User className="h-4 w-4" />
              <span>Profile</span>
            </CommandK.Item>
          </CommandK.Group>
        </CommandK.List>

        <CommandK.Footer>
          <span>Navigate with ↑↓</span>
          <span>Select with Enter</span>
        </CommandK.Footer>
      </CommandK.Dialog>
    </CommandK.Root>
  )
}
```

### With Keywords and Shortcuts

```tsx
import { CommandK } from '@/shaddercn/components/command-k'
import { Moon, Sun, FileText } from 'lucide-react'

export default function CommandKWithKeywords() {
  const [open, setOpen] = useState(false)

  return (
    <CommandK.Root open={open} onOpenChange={setOpen}>
      <CommandK.Dialog>
        <CommandK.Input placeholder="Search..." />

        <CommandK.List>
          <CommandK.Group heading="Theme">
            <CommandK.Item
              value="light mode"
              keywords={["theme", "bright"]}
              onSelect={() => setTheme('light')}
            >
              <Sun className="h-4 w-4" />
              <span>Light Mode</span>
            </CommandK.Item>

            <CommandK.Item
              value="dark mode"
              keywords={["theme", "night"]}
              onSelect={() => setTheme('dark')}
            >
              <Moon className="h-4 w-4" />
              <span>Dark Mode</span>
            </CommandK.Item>
          </CommandK.Group>

          <CommandK.Separator />

          <CommandK.Group heading="Documents">
            <CommandK.Item
              value="new document"
              onSelect={() => createDocument()}
            >
              <FileText className="h-4 w-4" />
              <span>New Document</span>
              <CommandK.Shortcut className="ml-auto">⌘N</CommandK.Shortcut>
            </CommandK.Item>
          </CommandK.Group>
        </CommandK.List>
      </CommandK.Dialog>
    </CommandK.Root>
  )
}
```

### Trigger Button

```tsx
import { CommandK } from '@/shaddercn/components/command-k'

export default function CommandKWithTrigger() {
  const [open, setOpen] = useState(false)

  return (
    <>
      <button
        onClick={() => setOpen(true)}
        className="inline-flex items-center gap-2 rounded-lg border px-4 py-2"
      >
        Open Command Palette
        <CommandK.ShortcutGroup>
          <CommandK.Shortcut>⌘</CommandK.Shortcut>
          <CommandK.Shortcut>K</CommandK.Shortcut>
        </CommandK.ShortcutGroup>
      </button>

      <CommandK.Root open={open} onOpenChange={setOpen}>
        <CommandK.Dialog>
          {/* ... */}
        </CommandK.Dialog>
      </CommandK.Root>
    </>
  )
}
```

## API Reference

### Root

Provides state and configuration context for the command palette.

**Props:**
- `open?: boolean` - Controlled open state
- `onOpenChange?: (open: boolean) => void` - Open state change callback
- `enableShortcut?: boolean` - Enable ⌘K/Ctrl+K shortcut (default: true)
- `additionalShortcut?: string` - Additional keyboard shortcut (e.g., "/")
- `closeOnBackdropClick?: boolean` - Close when clicking backdrop (default: true)
- `closeOnEscape?: boolean` - Close on Escape key (default: true)
- `animationConfig?: CommandKAnimationConfig` - Animation settings
- `filter?: (value: string, search: string) => boolean` - Custom filter function

### Dialog

The modal container with backdrop and animations.

**Props:**
- `className?: string` - Additional class names
- `style?: CSSProperties` - Additional styles

### Input

The search input field with keyboard navigation.

**Props:**
- `placeholder?: string` - Placeholder text (default: "Type a command or search...")
- `startAddon?: ReactNode` - Icon before input (default: Search icon)
- `endAddon?: ReactNode` - Icon after input
- `autoFocus?: boolean` - Focus on open (default: true)
- `className?: string` - Additional class names
- `style?: CSSProperties` - Additional styles

### List

Scrollable container for command items.

**Props:**
- `maxHeight?: number | string` - Maximum height (default: 300)
- `className?: string` - Additional class names
- `style?: CSSProperties` - Additional styles

### Item

Individual command items with filtering and selection.

**Props:**
- `value: string` - Value used for filtering (required)
- `keywords?: string[]` - Additional search keywords
- `onSelect?: () => void` - Selection callback
- `disabled?: boolean` - Disable the item
- `className?: string` - Additional class names
- `style?: CSSProperties` - Additional styles

### Group

Groups items with an optional heading.

**Props:**
- `heading?: ReactNode` - Group heading text
- `className?: string` - Additional class names
- `style?: CSSProperties` - Additional styles

### Empty

Displayed when no items match the search.

**Props:**
- `children?: ReactNode` - Empty state content (default: "No results found.")
- `className?: string` - Additional class names
- `style?: CSSProperties` - Additional styles

### Footer

Footer area for hints and shortcuts.

**Props:**
- `children: ReactNode` - Footer content
- `className?: string` - Additional class names
- `style?: CSSProperties` - Additional styles

### Shortcut

Displays a keyboard shortcut key.

**Props:**
- `children: ReactNode` - Shortcut content
- `className?: string` - Additional class names
- `style?: CSSProperties` - Additional styles

### ShortcutGroup

Groups multiple shortcut keys together.

**Props:**
- `children: ReactNode` - Shortcut keys
- `className?: string` - Additional class names
- `style?: CSSProperties` - Additional styles

### Separator

Visual separator between groups.

**Props:**
- `className?: string` - Additional class names
- `style?: CSSProperties` - Additional styles

## Animation Configuration

Customize animations via the `animationConfig` prop on Root:

```tsx
<CommandK.Root
  animationConfig={{
    duration: 0.2,      // Animation duration in seconds
    scale: 0.98,        // Scale on enter/exit
    offsetY: 20,        // Y offset on enter/exit
    backdropBlur: 4,    // Backdrop blur amount
    backdropOpacity: 0.5 // Backdrop opacity
  }}
>
```

## Keyboard Shortcuts

| Key | Action |
|-----|--------|
| `⌘K` / `Ctrl+K` | Toggle command palette |
| `↑` / `↓` | Navigate items |
| `Enter` | Select highlighted item |
| `Escape` | Close palette |

## Accessibility

The command palette implements semantic HTML and ARIA patterns:

- `role="dialog"` with `aria-modal="true"`
- Keyboard navigation for all interactions
- Focus management on open/close
- Respects `prefers-reduced-motion`

## Inspiration

Inspired by command palettes in VS Code, Linear, and Raycast.
